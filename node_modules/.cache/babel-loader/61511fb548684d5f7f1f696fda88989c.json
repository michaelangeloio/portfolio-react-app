{"ast":null,"code":"import _regeneratorRuntime from \"/Users/angelo/Documents/developer/michaelangrivera/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport 'isomorphic-unfetch';\nimport UserAgent from './UserAgent';\n\nvar CognitoError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(CognitoError, _Error);\n\n  function CognitoError(message, code, name, statusCode) {\n    var _this;\n\n    _this = _Error.call(this, message) || this;\n    _this.code = code;\n    _this.name = name;\n    _this.statusCode = statusCode;\n    return _this;\n  }\n\n  return CognitoError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/** @class */\n\n\nvar Client = /*#__PURE__*/function () {\n  /**\n   * Constructs a new AWS Cognito Identity Provider client object\n   * @param {string} region AWS region\n   * @param {string} endpoint endpoint\n   * @param {object} fetchOptions options for fetch API (only credentials is supported)\n   */\n  function Client(region, endpoint, fetchOptions) {\n    this.endpoint = endpoint || \"https://cognito-idp.\" + region + \".amazonaws.com/\";\n\n    var _ref = fetchOptions || {},\n        credentials = _ref.credentials;\n\n    this.fetchOptions = credentials ? {\n      credentials: credentials\n    } : {};\n  }\n  /**\n   * Makes an unauthenticated request on AWS Cognito Identity Provider API\n   * using fetch\n   * @param {string} operation API operation\n   * @param {object} params Input parameters\n   * @returns Promise<object>\n   */\n\n\n  var _proto = Client.prototype;\n\n  _proto.promisifyRequest = function promisifyRequest(operation, params) {\n    var _this2 = this;\n\n    return new Promise(function (resolve, reject) {\n      _this2.request(operation, params, function (err, data) {\n        if (err) {\n          reject(new CognitoError(err.message, err.code, err.name, err.statusCode));\n        } else {\n          resolve(data);\n        }\n      });\n    });\n  };\n\n  _proto.requestWithRetry = function requestWithRetry(operation, params, callback) {\n    var _this3 = this;\n\n    var MAX_DELAY_IN_MILLIS = 5 * 1000;\n    jitteredExponentialRetry(function (p) {\n      return new Promise(function (res, rej) {\n        _this3.request(operation, p, function (error, result) {\n          if (error) {\n            rej(error);\n          } else {\n            res(result);\n          }\n        });\n      });\n    }, [params], MAX_DELAY_IN_MILLIS).then(function (result) {\n      return callback(null, result);\n    })[\"catch\"](function (error) {\n      return callback(error);\n    });\n  }\n  /**\n   * Makes an unauthenticated request on AWS Cognito Identity Provider API\n   * using fetch\n   * @param {string} operation API operation\n   * @param {object} params Input parameters\n   * @param {function} callback Callback called when a response is returned\n   * @returns {void}\n   */\n  ;\n\n  _proto.request = function request(operation, params, callback) {\n    var headers = {\n      'Content-Type': 'application/x-amz-json-1.1',\n      'X-Amz-Target': \"AWSCognitoIdentityProviderService.\" + operation,\n      'X-Amz-User-Agent': UserAgent.prototype.userAgent\n    };\n    var options = Object.assign({}, this.fetchOptions, {\n      headers: headers,\n      method: 'POST',\n      mode: 'cors',\n      cache: 'no-cache',\n      body: JSON.stringify(params)\n    });\n    var response;\n    var responseJsonData;\n    fetch(this.endpoint, options).then(function (resp) {\n      response = resp;\n      return resp;\n    }, function (err) {\n      // If error happens here, the request failed\n      // if it is TypeError throw network error\n      if (err instanceof TypeError) {\n        throw new Error('Network error');\n      }\n\n      throw err;\n    }).then(function (resp) {\n      return resp.json()[\"catch\"](function () {\n        return {};\n      });\n    }).then(function (data) {\n      // return parsed body stream\n      if (response.ok) return callback(null, data);\n      responseJsonData = data; // Taken from aws-sdk-js/lib/protocol/json.js\n      // eslint-disable-next-line no-underscore-dangle\n\n      var code = (data.__type || data.code).split('#').pop();\n      var error = {\n        code: code,\n        name: code,\n        message: data.message || data.Message || null\n      };\n      return callback(error);\n    })[\"catch\"](function (err) {\n      // first check if we have a service error\n      if (response && response.headers && response.headers.get('x-amzn-errortype')) {\n        try {\n          var code = response.headers.get('x-amzn-errortype').split(':')[0];\n          var error = {\n            code: code,\n            name: code,\n            statusCode: response.status,\n            message: response.status ? response.status.toString() : null\n          };\n          return callback(error);\n        } catch (ex) {\n          return callback(err);\n        } // otherwise check if error is Network error\n\n      } else if (err instanceof Error && err.message === 'Network error') {\n        var _error = {\n          code: 'NetworkError',\n          name: err.name,\n          message: err.message\n        };\n        return callback(_error);\n      } else {\n        return callback(err);\n      }\n    });\n  };\n\n  return Client;\n}();\n\nexport { Client as default };\nvar logger = {\n  debug: function debug() {// Intentionally blank. This package doesn't have logging\n  }\n};\n/**\n * For now, all errors are retryable.\n */\n\nvar NonRetryableError = /*#__PURE__*/function (_Error2) {\n  _inheritsLoose(NonRetryableError, _Error2);\n\n  function NonRetryableError(message) {\n    var _this4;\n\n    _this4 = _Error2.call(this, message) || this;\n    _this4.nonRetryable = true;\n    return _this4;\n  }\n\n  return NonRetryableError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar isNonRetryableError = function isNonRetryableError(obj) {\n  var key = 'nonRetryable';\n  return obj && obj[key];\n};\n\nfunction retry(_x, _x2, _x3, _x4) {\n  return _retry.apply(this, arguments);\n}\n\nfunction _retry() {\n  _retry = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(functionToRetry, args, delayFn, attempt) {\n    var retryIn;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (attempt === void 0) {\n              attempt = 1;\n            }\n\n            if (!(typeof functionToRetry !== 'function')) {\n              _context.next = 3;\n              break;\n            }\n\n            throw Error('functionToRetry must be a function');\n\n          case 3:\n            logger.debug(functionToRetry.name + \" attempt #\" + attempt + \" with args: \" + JSON.stringify(args));\n            _context.prev = 4;\n            _context.next = 7;\n            return functionToRetry.apply(void 0, args);\n\n          case 7:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](4);\n            logger.debug(\"error on \" + functionToRetry.name, _context.t0);\n\n            if (!isNonRetryableError(_context.t0)) {\n              _context.next = 16;\n              break;\n            }\n\n            logger.debug(functionToRetry.name + \" non retryable error\", _context.t0);\n            throw _context.t0;\n\n          case 16:\n            retryIn = delayFn(attempt, args, _context.t0);\n            logger.debug(functionToRetry.name + \" retrying in \" + retryIn + \" ms\");\n\n            if (!(retryIn !== false)) {\n              _context.next = 26;\n              break;\n            }\n\n            _context.next = 21;\n            return new Promise(function (res) {\n              return setTimeout(res, retryIn);\n            });\n\n          case 21:\n            _context.next = 23;\n            return retry(functionToRetry, args, delayFn, attempt + 1);\n\n          case 23:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 26:\n            throw _context.t0;\n\n          case 27:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[4, 10]]);\n  }));\n  return _retry.apply(this, arguments);\n}\n\nfunction jitteredBackoff(maxDelayMs) {\n  var BASE_TIME_MS = 100;\n  var JITTER_FACTOR = 100;\n  return function (attempt) {\n    var delay = Math.pow(2, attempt) * BASE_TIME_MS + JITTER_FACTOR * Math.random();\n    return delay > maxDelayMs ? false : delay;\n  };\n}\n\nvar MAX_DELAY_MS = 5 * 60 * 1000;\n\nfunction jitteredExponentialRetry(functionToRetry, args, maxDelayMs) {\n  if (maxDelayMs === void 0) {\n    maxDelayMs = MAX_DELAY_MS;\n  }\n\n  return retry(functionToRetry, args, jitteredBackoff(maxDelayMs));\n}\n\n;","map":{"version":3,"sources":["/Users/angelo/node_modules/amazon-cognito-identity-js/es/Client.js"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","_setPrototypeOf","_wrapNativeSuper","Class","_cache","Map","_isNativeFunction","TypeError","has","get","set","Wrapper","_construct","_getPrototypeOf","enumerable","writable","configurable","Parent","_isNativeReflectConstruct","Reflect","construct","a","push","Constructor","Function","bind","instance","sham","Proxy","Boolean","valueOf","call","e","toString","indexOf","o","p","setPrototypeOf","__proto__","getPrototypeOf","UserAgent","CognitoError","_Error","message","code","name","statusCode","_this","Error","Client","region","endpoint","fetchOptions","_ref","credentials","_proto","promisifyRequest","operation","params","_this2","request","data","requestWithRetry","callback","_this3","MAX_DELAY_IN_MILLIS","jitteredExponentialRetry","res","rej","result","headers","userAgent","options","assign","method","mode","cache","body","JSON","stringify","response","responseJsonData","fetch","resp","json","ok","__type","split","pop","Message","status","ex","_error","default","logger","debug","NonRetryableError","_Error2","_this4","nonRetryable","isNonRetryableError","obj","retry","_x","_x2","_x3","_x4","_retry","mark","_callee","functionToRetry","delayFn","attempt","retryIn","wrap","_callee$","_context","prev","next","abrupt","sent","t0","setTimeout","stop","jitteredBackoff","maxDelayMs","BASE_TIME_MS","JITTER_FACTOR","delay","Math","pow","random","MAX_DELAY_MS"],"mappings":"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","sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport 'isomorphic-unfetch';\nimport UserAgent from './UserAgent';\n\nvar CognitoError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(CognitoError, _Error);\n\n  function CognitoError(message, code, name, statusCode) {\n    var _this;\n\n    _this = _Error.call(this, message) || this;\n    _this.code = code;\n    _this.name = name;\n    _this.statusCode = statusCode;\n    return _this;\n  }\n\n  return CognitoError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/** @class */\n\n\nvar Client = /*#__PURE__*/function () {\n  /**\n   * Constructs a new AWS Cognito Identity Provider client object\n   * @param {string} region AWS region\n   * @param {string} endpoint endpoint\n   * @param {object} fetchOptions options for fetch API (only credentials is supported)\n   */\n  function Client(region, endpoint, fetchOptions) {\n    this.endpoint = endpoint || \"https://cognito-idp.\" + region + \".amazonaws.com/\";\n\n    var _ref = fetchOptions || {},\n        credentials = _ref.credentials;\n\n    this.fetchOptions = credentials ? {\n      credentials: credentials\n    } : {};\n  }\n  /**\n   * Makes an unauthenticated request on AWS Cognito Identity Provider API\n   * using fetch\n   * @param {string} operation API operation\n   * @param {object} params Input parameters\n   * @returns Promise<object>\n   */\n\n\n  var _proto = Client.prototype;\n\n  _proto.promisifyRequest = function promisifyRequest(operation, params) {\n    var _this2 = this;\n\n    return new Promise(function (resolve, reject) {\n      _this2.request(operation, params, function (err, data) {\n        if (err) {\n          reject(new CognitoError(err.message, err.code, err.name, err.statusCode));\n        } else {\n          resolve(data);\n        }\n      });\n    });\n  };\n\n  _proto.requestWithRetry = function requestWithRetry(operation, params, callback) {\n    var _this3 = this;\n\n    var MAX_DELAY_IN_MILLIS = 5 * 1000;\n    jitteredExponentialRetry(function (p) {\n      return new Promise(function (res, rej) {\n        _this3.request(operation, p, function (error, result) {\n          if (error) {\n            rej(error);\n          } else {\n            res(result);\n          }\n        });\n      });\n    }, [params], MAX_DELAY_IN_MILLIS).then(function (result) {\n      return callback(null, result);\n    })[\"catch\"](function (error) {\n      return callback(error);\n    });\n  }\n  /**\n   * Makes an unauthenticated request on AWS Cognito Identity Provider API\n   * using fetch\n   * @param {string} operation API operation\n   * @param {object} params Input parameters\n   * @param {function} callback Callback called when a response is returned\n   * @returns {void}\n   */\n  ;\n\n  _proto.request = function request(operation, params, callback) {\n    var headers = {\n      'Content-Type': 'application/x-amz-json-1.1',\n      'X-Amz-Target': \"AWSCognitoIdentityProviderService.\" + operation,\n      'X-Amz-User-Agent': UserAgent.prototype.userAgent\n    };\n    var options = Object.assign({}, this.fetchOptions, {\n      headers: headers,\n      method: 'POST',\n      mode: 'cors',\n      cache: 'no-cache',\n      body: JSON.stringify(params)\n    });\n    var response;\n    var responseJsonData;\n    fetch(this.endpoint, options).then(function (resp) {\n      response = resp;\n      return resp;\n    }, function (err) {\n      // If error happens here, the request failed\n      // if it is TypeError throw network error\n      if (err instanceof TypeError) {\n        throw new Error('Network error');\n      }\n\n      throw err;\n    }).then(function (resp) {\n      return resp.json()[\"catch\"](function () {\n        return {};\n      });\n    }).then(function (data) {\n      // return parsed body stream\n      if (response.ok) return callback(null, data);\n      responseJsonData = data; // Taken from aws-sdk-js/lib/protocol/json.js\n      // eslint-disable-next-line no-underscore-dangle\n\n      var code = (data.__type || data.code).split('#').pop();\n      var error = {\n        code: code,\n        name: code,\n        message: data.message || data.Message || null\n      };\n      return callback(error);\n    })[\"catch\"](function (err) {\n      // first check if we have a service error\n      if (response && response.headers && response.headers.get('x-amzn-errortype')) {\n        try {\n          var code = response.headers.get('x-amzn-errortype').split(':')[0];\n          var error = {\n            code: code,\n            name: code,\n            statusCode: response.status,\n            message: response.status ? response.status.toString() : null\n          };\n          return callback(error);\n        } catch (ex) {\n          return callback(err);\n        } // otherwise check if error is Network error\n\n      } else if (err instanceof Error && err.message === 'Network error') {\n        var _error = {\n          code: 'NetworkError',\n          name: err.name,\n          message: err.message\n        };\n        return callback(_error);\n      } else {\n        return callback(err);\n      }\n    });\n  };\n\n  return Client;\n}();\n\nexport { Client as default };\nvar logger = {\n  debug: function debug() {// Intentionally blank. This package doesn't have logging\n  }\n};\n/**\n * For now, all errors are retryable.\n */\n\nvar NonRetryableError = /*#__PURE__*/function (_Error2) {\n  _inheritsLoose(NonRetryableError, _Error2);\n\n  function NonRetryableError(message) {\n    var _this4;\n\n    _this4 = _Error2.call(this, message) || this;\n    _this4.nonRetryable = true;\n    return _this4;\n  }\n\n  return NonRetryableError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar isNonRetryableError = function isNonRetryableError(obj) {\n  var key = 'nonRetryable';\n  return obj && obj[key];\n};\n\nfunction retry(_x, _x2, _x3, _x4) {\n  return _retry.apply(this, arguments);\n}\n\nfunction _retry() {\n  _retry = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(functionToRetry, args, delayFn, attempt) {\n    var retryIn;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (attempt === void 0) {\n              attempt = 1;\n            }\n\n            if (!(typeof functionToRetry !== 'function')) {\n              _context.next = 3;\n              break;\n            }\n\n            throw Error('functionToRetry must be a function');\n\n          case 3:\n            logger.debug(functionToRetry.name + \" attempt #\" + attempt + \" with args: \" + JSON.stringify(args));\n            _context.prev = 4;\n            _context.next = 7;\n            return functionToRetry.apply(void 0, args);\n\n          case 7:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](4);\n            logger.debug(\"error on \" + functionToRetry.name, _context.t0);\n\n            if (!isNonRetryableError(_context.t0)) {\n              _context.next = 16;\n              break;\n            }\n\n            logger.debug(functionToRetry.name + \" non retryable error\", _context.t0);\n            throw _context.t0;\n\n          case 16:\n            retryIn = delayFn(attempt, args, _context.t0);\n            logger.debug(functionToRetry.name + \" retrying in \" + retryIn + \" ms\");\n\n            if (!(retryIn !== false)) {\n              _context.next = 26;\n              break;\n            }\n\n            _context.next = 21;\n            return new Promise(function (res) {\n              return setTimeout(res, retryIn);\n            });\n\n          case 21:\n            _context.next = 23;\n            return retry(functionToRetry, args, delayFn, attempt + 1);\n\n          case 23:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 26:\n            throw _context.t0;\n\n          case 27:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[4, 10]]);\n  }));\n  return _retry.apply(this, arguments);\n}\n\nfunction jitteredBackoff(maxDelayMs) {\n  var BASE_TIME_MS = 100;\n  var JITTER_FACTOR = 100;\n  return function (attempt) {\n    var delay = Math.pow(2, attempt) * BASE_TIME_MS + JITTER_FACTOR * Math.random();\n    return delay > maxDelayMs ? false : delay;\n  };\n}\n\nvar MAX_DELAY_MS = 5 * 60 * 1000;\n\nfunction jitteredExponentialRetry(functionToRetry, args, maxDelayMs) {\n  if (maxDelayMs === void 0) {\n    maxDelayMs = MAX_DELAY_MS;\n  }\n\n  return retry(functionToRetry, args, jitteredBackoff(maxDelayMs));\n}\n\n;"]},"metadata":{},"sourceType":"module"}